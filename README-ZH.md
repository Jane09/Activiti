### activiti 学习
  
 [参考](https://zhuanlan.zhihu.com/p/98715989)

  核心接口层，被PVM接口定义。PVM会在后面的章节中详细讲述。
  核心实现层，基于PVM的思想和接口，定义了一些关键实体包含ActivityImpl（该类抽象了节点实现），FlowElementBehavior实现（该类抽象了节点指令动作），ExecutionImpl（流程执行实体类）
  命令层，Activiti在编码模式上直接限定整体风格为命令模式。也就是将业务逻辑封装为一个个的Command接口实现类。这样新增一个业务功能时只需要新增一个Command实现即可。这里需要特别提到的是，命令本身需要运行在命令上下文中，也就是CommandContext类对象。
  命令拦截层，采用责任链模式，通过责任链模式的拦截器层，为命令的执行创造条件。诸如开启事务，创建CommandContext上下文，记录日志等
  业务接口层，面向业务，提供了各种接口。这部分的接口就不再面向框架开发者了，而是面向框架的使用者。
  部署层，严格来说，这个与上面说到的并不是一个完整的分层体系。但是为了突出重要性，单独拿出来说。流程运转的前提是流程定义。而流程定义解析就是一切的开始。从领域语言解析为Java的POJO对象依靠的就是部署层。后文还会细说这个环节。
  流程引擎，所有接口的总入口。上面提到的业务接口层，部署层都可以从流程引擎类中得到。因此这里的流程引擎接口其实类似门面模式，只作为提供入口。
### DDD 的充血模型

  用类来描述业务模型（数据和功能），把原来又重又凌乱的service层逻辑拆分并转移至各领域（Domain）类内，对不同业务功能的数据和方法进行封装， 提升了代码内聚性和复用性，也提高了代码可读性 ExecutionEntity
  
  什么项目应该考虑使用基于充血模型的 DDD 开发模式？
  
  复杂业务系统、非业务系统、框架、工具等。
  
  越复杂的系统，对代码的复用性、易维护性要求就越高，我们就越应该花更多的时间和精力在前期设计上。 而基于充血模型的 DDD 开发模式，正好需要我们前期做大量的业务调研、领域模型设计，所以它更加适合这种复杂系统的开发。
    

### PVM ()


### 命令模式
  
